---
title: Troubleshooting
description: Common integration failures and how to fix them fast.
---

## The modal/drawer doesn’t open

**Likely cause:** rendering the SDK in a Server Component (Next.js App Router).

✅ Fix:
- Move the SDK usage into a `"use client"` component.

## The UI looks unstyled / broken

**Likely causes:**
- Your app is missing shadcn/tailwind base styles (if the SDK depends on them)
- CSS variables like `--background` aren’t defined

✅ Fix:
- Ensure your design system variables exist
- See [Theming & White-label](./docs/theming)

## The iframe is blank

**Likely causes:**
- CSP blocks `frame-src`
- Origin not allowlisted
- Token is missing/expired

✅ Fix:
- Update CSP
- Check your dashboard allowlist
- Mint a fresh Bootstrap Token and retry

## Token mint endpoint returns 401/403

**Likely causes:**
- Wrong environment key (test vs production)
- Key revoked or rotated
- Using key in the wrong header format

✅ Fix:
- Verify environment selection
- Ensure `Authorization: Bearer API_KEY` (or the expected header)
- Rotate keys if compromised

## 401 TOKEN_EXPIRED

**Likely cause:** access token expired.

✅ Fix:
- Call the refresh endpoint and retry the request.

## 401 TOKEN_REUSED

**Likely cause:** refresh token reused or session revoked.

✅ Fix:
- Re-bootstrap and start a new session.

## 403 Origin not allowed

**Likely cause:** `allowed_parent_origin` does not match the allowlisted origin.

✅ Fix:
- Update the origin allowlist and ensure `allowed_parent_origin` matches exactly.

## CORS errors in the browser

**Likely cause:** your parent origin is not allowlisted.

✅ Fix:
- Ask Aarthik to allowlist your origin and pass the same `allowed_parent_origin` when minting bootstrap tokens.

## 429 Rate limited

**Likely cause:** too many requests in a short window.

✅ Fix:
- Implement backoff/retry and contact Aarthik support to adjust limits if needed.

## “Works on desktop but not on mobile”

**Likely causes:**
- WebView/Browser iframe limitations
- Fullscreen behavior not configured

✅ Fix:
- Use `fullscreen="mobile-only"`
- Test on Safari iOS and Android Chrome early
